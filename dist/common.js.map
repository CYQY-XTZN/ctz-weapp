{"version":3,"file":"common.js","mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AAWA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;ACnEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAAA;AAAA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA","sources":["webpack://weapp-demo-2026/._src_store_index.ts","webpack://weapp-demo-2026/._src_utils_index.ts"],"sourcesContent":["// src/store/index.ts\nimport Taro from '@tarojs/taro'\n\nexport interface UserData {\n  username?: string;\n  birthdate?: string;\n  birthtime?: string;\n  gender?: 'male' | 'female';\n  relationship?: 'single' | 'in_relationship' | 'married';\n  constellation?: string;\n}\n\nclass AppStore {\n  private readonly STORAGE_KEY = 'app-store-v1'\n\n  getUserData(): UserData {\n    try {\n      return Taro.getStorageSync(this.STORAGE_KEY) || {}\n    } catch (error) {\n      console.error('读取用户数据失败:', error)\n      return {}\n    }\n  }\n\n  setUserData(data: Partial<UserData>) {\n    try {\n      const currentData = this.getUserData()\n      const newData = { ...currentData, ...data }\n      Taro.setStorageSync(this.STORAGE_KEY, newData)\n      return true\n    } catch (error) {\n      console.error('保存用户数据失败:', error)\n      return false\n    }\n  }\n\n  clearUserData() {\n    try {\n      Taro.removeStorageSync(this.STORAGE_KEY)\n      return true\n    } catch (error) {\n      console.error('清除用户数据失败:', error)\n      return false\n    }\n  }\n\n  getUsername(): string {\n    return this.getUserData().username || ''\n  }\n\n  getBirthdate(): string {\n    return this.getUserData().birthdate || ''\n  }\n\n  getBirthtime(): string {\n    return this.getUserData().birthtime || ''\n  }\n\n  getGender(): UserData['gender'] {\n    return this.getUserData().gender\n  }\n\n  getRelationship(): UserData['relationship'] {\n    return this.getUserData().relationship\n  }\n}\n\nexport const appStore = new AppStore()","// src/utils/index.ts\nimport Taro from '@tarojs/taro'\n\n// 格式化日期\nexport const formatDate = (date: Date | string): string => {\n  const d = typeof date === 'string' ? new Date(date) : date\n  return `${d.getFullYear()}-${(d.getMonth() + 1).toString().padStart(2, '0')}-${d.getDate().toString().padStart(2, '0')}`\n}\n\n// 获取今天日期\nexport const getToday = (): string => {\n  return formatDate(new Date())\n}\n\n// 获取星期几\nexport const getWeekday = (date?: Date | string): string => {\n  const d = date ? (typeof date === 'string' ? new Date(date) : date) : new Date()\n  const weekdays = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\n  return weekdays[d.getDay()]\n}\n\n// 显示Toast\nexport const showToast = (title: string, icon: 'success' | 'error' | 'loading' | 'none' = 'none') => {\n  Taro.showToast({\n    title,\n    icon,\n    duration: 2000\n  })\n}\n\n// 显示加载\nexport const showLoading = (title: string = '加载中...') => {\n  Taro.showLoading({ title })\n}\n\n// 隐藏加载\nexport const hideLoading = () => {\n  Taro.hideLoading()\n}\n\n// 验证手机号\nexport const validatePhone = (phone: string): boolean => {\n  const reg = /^1[3-9]\\d{9}$/\n  return reg.test(phone)\n}\n\n// 验证邮箱\nexport const validateEmail = (email: string): boolean => {\n  const reg = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/\n  return reg.test(email)\n}\n\n// 计算年龄\nexport const calculateAge = (birthdate: string): number => {\n  const birthDate = new Date(birthdate)\n  const today = new Date()\n  let age = today.getFullYear() - birthDate.getFullYear()\n  const monthDiff = today.getMonth() - birthDate.getMonth()\n  \n  if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\n    age--\n  }\n  \n  return age\n}"],"names":[],"sourceRoot":""}